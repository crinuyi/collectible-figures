@model IEnumerable<collectible_figures.Models.Figure>

@{
    ViewBag.Title = "Lista figurek";
}

<div class="panel panel-success">
    <div class="panel-heading">
        <h3 class="panel-title">Lista figurek</h3>
    </div>
    <div class="panel-body">
        @*panel content*@
        @if (User.Identity.IsAuthenticated) {
            <p>
                <div>
                    <button type="button"
                            class="btn btn-default"
                            onclick="location.href='@Url.Action("Create", "Figures")'">
                        Dodaj nową figurkę
                    </button>
                </div>
            </p>
        }

            <table class="table">
                <tr class="success">
                    <th>
                        @Html.DisplayNameFor(model => model.Classification.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Scale)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Price)
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model) {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Classification.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Scale)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Price)
                    </td>
                    <td>
                        @if (Request.IsAuthenticated) {
                            <button type="button"
                                    class="btn btn-warning btn-primary btn-xs"
                                    onclick="location.href='@Url.Action("Edit", "Figures", new { @id = item.FigureID })'">
                                Edytuj
                            </button>
                            <button type="button"
                                    class="btn btn-danger btn-primary btn-xs"
                                    onclick="location.href='@Url.Action("Delete", "Figures", new { @id = item.FigureID })'">
                                Usuń
                            </button>
                        }
                        <button type="button"
                                class="btn btn-success btn-primary btn-xs"
                                onclick="location.href='@Url.Action("Details", "Figures", new { @id = item.FigureID })'">
                            Szczegóły
                        </button>
                    </td>
                </tr>
                }
            </table>
    </div>
</div>
